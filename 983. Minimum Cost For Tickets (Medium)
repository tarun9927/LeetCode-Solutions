class Solution:
    def mincostTickets(self, days: List[int], costs: List[int]) -> int:
        dp,days_a=[0 for _ in range(days[-1]+1)],[]
        i,j,n=0,0,len(days)
        while i<n:
            while j<days[i]:
                days_a.append(False)
                j+=1
            days_a.append(True)
            j=days[i]+1
            i+=1
        for i in range(1,days[-1]+1):
            if not days_a[i]:
                dp[i]=dp[i-1]
            else:
                od,ow,om=dp[i-1]+costs[0],costs[1],costs[2]
                if i-7>=0:
                    ow+=max(dp[i-7],0)
                if i-30>=0:
                    om+=max(dp[i-30],0)
                dp[i]=min(od,ow,om)
        return dp[-1]
                
